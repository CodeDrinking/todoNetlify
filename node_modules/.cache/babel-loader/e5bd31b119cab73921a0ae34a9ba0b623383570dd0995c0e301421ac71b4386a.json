{"ast":null,"code":"import _objectSpread from\"/Users/roshanmestri/Desktop/TodoUsingReact/todo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/roshanmestri/Desktop/TodoUsingReact/todo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';// import { useNavigate } from 'react-router-dom';\nimport axios from'axios';import{useNavigate,Link}from'react-router-dom';import{UseTodo}from'../contexts/TodosContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _UseTodo=UseTodo(),user=_UseTodo.user,SetUser=_UseTodo.SetUser;var navigate=useNavigate();var _useState=useState({email:\"\",password:\"\"// login: false,\n// token : \"\"\n}),_useState2=_slicedToArray(_useState,2),LoginState=_useState2[0],setLoginState=_useState2[1];function handler(e){var newData=_objectSpread({},LoginState);newData[e.target.id]=e.target.value;setLoginState(newData);console.log(newData,\"######\");}function Onsubmit(e){e.preventDefault();axios.post(\"http://localhost:8000/api/login\",{email:LoginState.email,password:LoginState.password}).then(function(res){SetUser(res.data.user);console.log(user,\"*****\");});navigate('/profile');}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return Onsubmit(e);},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email\",id:\"email\",value:LoginState.email,onChange:function onChange(e){return handler(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",id:\"password\",value:LoginState.password,onChange:function onChange(e){return handler(e);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[\"New User ?\",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Create New\"})]})]})});}export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","UseTodo","Login","user","SetUser","navigate","email","password","LoginState","setLoginState","handler","e","newData","target","id","value","console","log","Onsubmit","preventDefault","post","then","res","data"],"sources":["/Users/roshanmestri/Desktop/TodoUsingReact/todo/src/component/Login.jsx"],"sourcesContent":["import React from 'react'\nimport { useState } from 'react';\n// import { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useNavigate ,Link} from 'react-router-dom';\nimport { UseTodo } from '../contexts/TodosContext';\n\nfunction Login() {\n  let {user ,SetUser} = UseTodo();\n  const navigate = useNavigate();\n  const [LoginState , setLoginState] =useState({\n    email : \"\",\n    password : \"\",\n      // login: false,\n      // token : \"\"\n  });\n\n  function handler(e){\n    const newData = {...LoginState};\n    newData[e.target.id] = e.target.value;\n    setLoginState(newData)\n    console.log(newData , \"######\");\n  }\n\n  function Onsubmit(e){\n    e.preventDefault();\n    axios.post(\"http://localhost:8000/api/login\", {\n      email : LoginState.email,\n      password : LoginState.password\n    }).then(res => {\n      SetUser(res.data.user);\n      console.log(user ,\"*****\");\n\n      })\n   \n    navigate('/profile');\n  } \n  return (\n    <div>\n\n      {/* <div>\n        <form action=\"\" onSubmit={(e) => Onsubmit(e)}>\n          <input type=\"text\" placeholder=\"email\" id=\"email\" value={LoginState.email} onChange={(e) => handler(e)}/>\n          <input type=\"text\" placeholder=\"Password\" id=\"password\" value={LoginState.password} onChange={(e) => handler(e)} />\n          <button  type=\"submit\">Login</button>\n        </form>\n      </div> */}\n\n<form  onSubmit={(e) => Onsubmit(e)}>\n        <h3>Sign In</h3>\n\n        <div className=\"mb-3\">\n          <label>Email address</label>\n          <input\n            type=\"email\"  placeholder=\"email\" id=\"email\" value={LoginState.email} onChange={(e) => handler(e)}\n            \n          />\n        </div>\n\n        <div className=\"mb-3\">\n          <label>Password</label>\n          <input\n            type=\"password\"\n            placeholder=\"Password\" id=\"password\" value={LoginState.password} onChange={(e) => handler(e)}\n          />\n        </div>\n\n        <div className=\"d-grid\">\n          <button type=\"submit\" >\n            Submit\n          </button>\n        </div>\n        <span>New User ?<Link to=\"/register\">Create New</Link></span>\n      </form>\n    </div>\n  )\n}\n\nexport default Login"],"mappings":"yQAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC;AACA,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,IAAI,KAAO,kBAAkB,CACnD,OAASC,OAAO,KAAQ,0BAA0B,CAAC,wFAEnD,QAASC,MAAK,EAAG,CACf,aAAsBD,OAAO,EAAE,CAA1BE,IAAI,UAAJA,IAAI,CAAEC,OAAO,UAAPA,OAAO,CAClB,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAC9B,cAAoCF,QAAQ,CAAC,CAC3CS,KAAK,CAAG,EAAE,CACVC,QAAQ,CAAG,EACT;AACA;AACJ,CAAC,CAAC,wCALKC,UAAU,eAAGC,aAAa,eAOjC,QAASC,QAAO,CAACC,CAAC,CAAC,CACjB,GAAMC,QAAO,kBAAOJ,UAAU,CAAC,CAC/BI,OAAO,CAACD,CAAC,CAACE,MAAM,CAACC,EAAE,CAAC,CAAGH,CAAC,CAACE,MAAM,CAACE,KAAK,CACrCN,aAAa,CAACG,OAAO,CAAC,CACtBI,OAAO,CAACC,GAAG,CAACL,OAAO,CAAG,QAAQ,CAAC,CACjC,CAEA,QAASM,SAAQ,CAACP,CAAC,CAAC,CAClBA,CAAC,CAACQ,cAAc,EAAE,CAClBrB,KAAK,CAACsB,IAAI,CAAC,iCAAiC,CAAE,CAC5Cd,KAAK,CAAGE,UAAU,CAACF,KAAK,CACxBC,QAAQ,CAAGC,UAAU,CAACD,QACxB,CAAC,CAAC,CAACc,IAAI,CAAC,SAAAC,GAAG,CAAI,CACblB,OAAO,CAACkB,GAAG,CAACC,IAAI,CAACpB,IAAI,CAAC,CACtBa,OAAO,CAACC,GAAG,CAACd,IAAI,CAAE,OAAO,CAAC,CAE1B,CAAC,CAAC,CAEJE,QAAQ,CAAC,UAAU,CAAC,CACtB,CACA,mBACE,kCAUJ,cAAO,QAAQ,CAAE,kBAACM,CAAC,QAAKO,SAAQ,CAACP,CAAC,CAAC,EAAC,wBAC5B,+BAAgB,cAEhB,aAAK,SAAS,CAAC,MAAM,wBACnB,wCAA4B,cAC5B,cACE,IAAI,CAAC,OAAO,CAAE,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAEH,UAAU,CAACF,KAAM,CAAC,QAAQ,CAAE,kBAACK,CAAC,QAAKD,QAAO,CAACC,CAAC,CAAC,EAAC,EAElG,GACE,cAEN,aAAK,SAAS,CAAC,MAAM,wBACnB,mCAAuB,cACvB,cACE,IAAI,CAAC,UAAU,CACf,WAAW,CAAC,UAAU,CAAC,EAAE,CAAC,UAAU,CAAC,KAAK,CAAEH,UAAU,CAACD,QAAS,CAAC,QAAQ,CAAE,kBAACI,CAAC,QAAKD,QAAO,CAACC,CAAC,CAAC,EAAC,EAC7F,GACE,cAEN,YAAK,SAAS,CAAC,QAAQ,uBACrB,eAAQ,IAAI,CAAC,QAAQ,oBAEZ,EACL,cACN,kDAAgB,KAAC,IAAI,EAAC,EAAE,CAAC,WAAW,wBAAkB,GAAO,GACxD,EACH,CAEV,CAEA,cAAeT,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}